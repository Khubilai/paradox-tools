#!/usr/bin/env ruby

require_relative "../lib/paradox_mod_builder"
require_relative "mods/ck2_tweaks"
require_relative "mods/become_republic"
require_relative "mods/no_dynastic_names"
require_relative "mods/no_localized_ranks"
require_relative "mods/no_localized_landed_titles"
require_relative "mods/vassal_transfer"
require_relative "mods/dynastic_decisions"
require_relative "mods/ruler_designer_reset"
require_relative "mods/old_style_banishment"

class CK2TweaksModBuilder < ParadoxModBuilder
  def initialize
    super(
      ParadoxGame.new(
        "source/ck2_2.4.3",
      ),
      "output/ck2tweaks",
    )
  end
  def build_mod_files!
    apply_modifications! CK2TweaksGameModification,
                         BecomeRepublicGameModification,
                         NoDynasticNamesGameModification,
                         NoLocalizedRanksGameModification,
                         NoLocalizedTitlesGameModification,
                         VassalTransferGameModification,
                         DynasticDecisionsGameModification,
                         RulerDesignerResetGameModification,
                         OldStyleBanishmentGameModification
    create_mod_descriptor!(
      name: "CK2 Tweaks",
      path: "mod/ck2tweaks",
    )
  end
end

CK2TweaksModBuilder.new.build!
